<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>hexo上的dplayer应用与嵌入视频的响应式设置 | Blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="dplayer是一个HTML5弹幕视频播放器，可以帮助我们轻松建立一个弹幕视频。那么如何将dplayer应用在hexo上，这里就需要借助到hexo的一个插件了。">
<meta name="keywords" content="经验,搭建,html,video">
<meta property="og:type" content="article">
<meta property="og:title" content="hexo上的dplayer应用与嵌入视频的响应式设置">
<meta property="og:url" content="/posts/11f630d2.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="dplayer是一个HTML5弹幕视频播放器，可以帮助我们轻松建立一个弹幕视频。那么如何将dplayer应用在hexo上，这里就需要借助到hexo的一个插件了。">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-08-10T17:11:51.865Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hexo上的dplayer应用与嵌入视频的响应式设置">
<meta name="twitter:description" content="dplayer是一个HTML5弹幕视频播放器，可以帮助我们轻松建立一个弹幕视频。那么如何将dplayer应用在hexo上，这里就需要借助到hexo的一个插件了。">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/">Blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li><li><a href="https://www.yleao.com/cut.html">cut</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value=""></form>
	</div>
</header>
    <div id="main">
      <article id="post-hexo上的dplayer应用与嵌入视频的响应式设置-1" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/posts/11f630d2.html" class="article-date">
  <time datetime="2018-08-10T14:22:00.000Z" itemprop="datePublished">2018-08-10</time>
</a>
		</span>
		<span class="meta-elements author">Yann Peng</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 class="article-title entry-title" itemprop="name">
      hexo上的dplayer应用与嵌入视频的响应式设置
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p><u><a href="https://github.com/DIYgod/DPlayer" target="_blank" rel="noopener">dplayer</a></u>是一个HTML5弹幕视频播放器，可以帮助我们轻松建立一个弹幕视频。那么如何将dplayer应用在hexo上，这里就需要借助到hexo的一个插件了。  </p>
<a id="more"></a>
<hr>
<h2 id="hexo插件"><a href="#hexo插件" class="headerlink" title="hexo插件"></a>hexo插件</h2><ul>
<li><h4 id="github地址"><a href="#github地址" class="headerlink" title="github地址"></a>github地址</h4><p><u><a href="https://github.com/MoePlayer/hexo-tag-dplayer" target="_blank" rel="noopener">hexo-tag-dplayer</a></u>  </p>
</li>
<li><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>安装模块:  </p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-tag-dplayer --save
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>代码：  </p>
<pre><code>{% dplayer key=value ... %}
</code></pre><p>　<br>key包括：  </p>
<pre class="line-numbers language-bash"><code class="language-bash">dplayer options:
  <span class="token string">'autoplay'</span>, <span class="token string">'loop'</span>, <span class="token string">'screenshot'</span>, <span class="token string">'hotkey'</span>, <span class="token string">'mutex'</span>, <span class="token string">'dmunlimited'</span> <span class="token keyword">:</span> bool options, use <span class="token string">"yes"</span> <span class="token string">"y"</span> <span class="token string">"true"</span> <span class="token string">"1"</span> <span class="token string">"on"</span> or just without value to <span class="token function">enable</span>
  <span class="token string">'preload'</span>, <span class="token string">'theme'</span>, <span class="token string">'lang'</span>, <span class="token string">'logo'</span>, <span class="token string">'url'</span>, <span class="token string">'pic'</span>, <span class="token string">'thumbnails'</span>, <span class="token string">'vidtype'</span>, <span class="token string">'suburl'</span>, <span class="token string">'subtype'</span>, <span class="token string">'subbottom'</span>, <span class="token string">'subcolor'</span>, <span class="token string">'subcolor'</span>, <span class="token string">'id'</span>, <span class="token string">'api'</span>, <span class="token string">'token'</span>, <span class="token string">'addition'</span>, <span class="token string">'dmuser'</span> <span class="token keyword">:</span> string arguments
  <span class="token string">'volume'</span>, <span class="token string">'maximum'</span> <span class="token keyword">:</span> number arguments
container options:
  <span class="token string">'width'</span>, <span class="token string">'height'</span> <span class="token keyword">:</span> string, used <span class="token keyword">in</span> container element style
other:
  <span class="token string">'code'</span> <span class="token keyword">:</span> value of this key will be append to script tag  
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>　<br>以上原型到dplayer选项的映射：  </p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">{</span>
  container: <span class="token string">"you needn't set this"</span>,
  autoplay: <span class="token string">'autoplay'</span>,
  theme: <span class="token string">'theme'</span>,
  loop: <span class="token string">'loop'</span>,
  lang: <span class="token string">'lang'</span>,
  screenshot: <span class="token string">'screenshot'</span>,
  hotkey: <span class="token string">'hotkey'</span>,
  preload: <span class="token string">'preload'</span>,
  logo: <span class="token string">'logo'</span>,
  volume: <span class="token string">'volume'</span>,
  mutex: <span class="token string">'mutex'</span>,
  video: <span class="token punctuation">{</span>
      url: <span class="token string">'url'</span>,
      pic: <span class="token string">'pic'</span>,
      thumbnails: <span class="token string">'thumbnails'</span>,
      type: <span class="token string">'vidtype'</span>,
  <span class="token punctuation">}</span>,
  subtitle: <span class="token punctuation">{</span>
      url: <span class="token string">'suburl'</span>,
      type: <span class="token string">'subtype'</span>,
      fontSize: <span class="token string">'subsize'</span>,
      bottom: <span class="token string">'subbottom'</span>,
      color: <span class="token string">'subcolor'</span>,
  <span class="token punctuation">}</span>,
  danmaku: <span class="token punctuation">{</span>
      id: <span class="token string">'id'</span>,
      api: <span class="token string">'api'</span>,
      token: <span class="token string">'token'</span>,
      maximum: <span class="token string">'maximum'</span>,
      addition: <span class="token punctuation">[</span><span class="token string">'addition'</span><span class="token punctuation">]</span>,
      user: <span class="token string">'dmuser'</span>,
      unlimited: <span class="token string">'dmunlimited'</span>,
  <span class="token punctuation">}</span>,
  icons: <span class="token string">'icons'</span>,
  contextmenu: <span class="token string">'menu'</span>,
<span class="token punctuation">}</span>  
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>　<br>如果出现某些错误，使用raw代码检查，raw代码内的内容不会被渲染：  </p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">{</span>% raw %<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"player1"</span> class<span class="token operator">=</span><span class="token string">"dplayer"</span><span class="token operator">></span><span class="token operator">&lt;</span>/div<span class="token operator">></span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"dist/DPlayer.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span>/script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span>-- use your path --<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
var dp <span class="token operator">=</span> new DPlayer<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    container: document.getElementById<span class="token punctuation">(</span><span class="token string">'dplayer'</span><span class="token punctuation">)</span>,
    autoplay: false,
    theme: <span class="token string">'#FADFA3'</span>,
    loop: true,
    screenshot: true,
    hotkey: true,
    logo: <span class="token string">'logo.png'</span>,
    volume: 0.2,
    mutex: true,
    video: <span class="token punctuation">{</span>
        url: <span class="token string">'demo.mp4'</span>,
        pic: <span class="token string">'demo.png'</span>,
        thumbnails: <span class="token string">'thumbnails.jpg'</span>,
        type: <span class="token string">'auto'</span>
    <span class="token punctuation">}</span>,
    subtitle: <span class="token punctuation">{</span>
        url: <span class="token string">'webvtt.vtt'</span>,
        type: <span class="token string">'webvtt'</span>,
        fontSize: <span class="token string">'25px'</span>,
        bottom: <span class="token string">'10%'</span>,
        color: <span class="token string">'#b7daff'</span>
    <span class="token punctuation">}</span>,
    danmaku: <span class="token punctuation">{</span>
        id: <span class="token string">'demo'</span>,
        api: <span class="token string">'https://api.prprpr.me/dplayer/'</span>,
        token: <span class="token string">'demo'</span>,
        maximum: 3000,
        user: <span class="token string">'DIYgod'</span>,
        margin: <span class="token punctuation">{</span>
            bottom: <span class="token string">'15%'</span>
        <span class="token punctuation">}</span>,
        unlimited: <span class="token boolean">true</span>
    <span class="token punctuation">}</span>,
    contextmenu: <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            text: <span class="token string">'custom contextmenu'</span>,
            link: <span class="token string">'https://github.com/MoePlayer/DPlayer'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">></span>
<span class="token punctuation">{</span>% endraw %<span class="token punctuation">}</span>  
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>　<br>更多信息参考<u><a href="http://dplayer.js.org/#/home" target="_blank" rel="noopener">dplayer docs</a></u>。  </p>
</li>
<li><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">{</span>% dplayer <span class="token string">"url=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.mp4"</span> <span class="token string">"api=https://api.prprpr.me/dplayer3/"</span> <span class="token string">"addition=https://api.prprpr.me/dplayer3/v2/bilibili?aid=120040"</span> <span class="token string">"pic=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.jpg"</span> <span class="token string">"id=9E2E3368B56CDBB4"</span> <span class="token string">"loop=yes"</span> <span class="token string">"theme=#FADFA3"</span> <span class="token string">"autoplay=false"</span> <span class="token string">"token=tokendemo"</span> %<span class="token punctuation">}</span>  
<span class="token punctuation">{</span>% dplayer <span class="token string">'url=some.mp4'</span> <span class="token string">"id=someid"</span> <span class="token string">"api=https://api.prprpr.me/dplayer/"</span> <span class="token string">"addition=/some.json"</span> <span class="token string">'code=player.on("loadstart",function(){console.log("loadstart")})'</span> <span class="token string">"autoplay"</span> %<span class="token punctuation">}</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<hr>
<p>通常用每个视频的<code>&lt;iframe&gt;</code>通用分享代码或者<code>&lt;video&gt;</code>代码直接插入到markdown文件中，则生成的页面中视频不是响应式的。于是便找到了这个插件，直接给分享的视频添加响应式。  </p>
<h2 id="hexo插件-1"><a href="#hexo插件-1" class="headerlink" title="hexo插件"></a>hexo插件</h2><ul>
<li><h4 id="github地址-1"><a href="#github地址-1" class="headerlink" title="github地址"></a>github地址</h4><p><u><a href="https://github.com/geekplux/hexo-tag-video" target="_blank" rel="noopener">hexo-tag-video</a></u>  </p>
</li>
<li><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>安装模块:  </p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-tag-video --save
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>　<br>如果你的hexo版本低于3.0，则在<code>_config.yml.</code>添加如下  </p>
<pre><code>plugins:  
  - hexo-tag-video
</code></pre></li>
<li><h4 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h4>代码：  
　  <pre><code>{% video 'videoCode' %}
</code></pre>　<br>通常，<code>videoCode</code>  为视频分享下的嵌入链接。</li>
</ul>
<ul>
<li><h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">{</span>% video <span class="token operator">&lt;</span>iframe width<span class="token operator">=</span><span class="token string">"560"</span> height<span class="token operator">=</span><span class="token string">"315"</span> src<span class="token operator">=</span><span class="token string">"https://www.youtube.com/embed/YES16mVB0lQ?rel=0&amp;showinfo=0"</span> frameborder<span class="token operator">=</span><span class="token string">"0"</span> gesture<span class="token operator">=</span><span class="token string">"media"</span> allow<span class="token operator">=</span><span class="token string">"encrypted-media"</span> allowfullscreen<span class="token operator">></span><span class="token operator">&lt;</span>/iframe<span class="token operator">></span> %<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/">html</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/video/">video</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/搭建/">搭建</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/经验/">经验</a></li></ul>

			</span>
		</div>
	</footer>
	
    
<nav id="article-nav">
  
    <a href="/posts/285abc9a.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          腾讯云COS+PicGo自建图床和快速上传
        
      </div>
    </a>
  
  
    <a href="/posts/5ca5743e.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">
        
          移动端在线预览与调试
        
      </div>
    </a>
  
</nav>

  
</article>




    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/">Blog</a>
	</h1>
	<span class="copyright">
	 
		&copy; 2018 Yann Peng┃   Connect:<a href="mailto:1@yleao.com">   1@yleao.com</a> <br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme┃   Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
		 <a href="http://www.miitbeian.gov.cn/"target="_blank">湘ICP备18014937号</a> 
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":130,"height":150},"mobile":{"show":true},"log":false});</script></body>
</html>